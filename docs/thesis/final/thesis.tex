% TODO
% DO NOT FORGET THE REFERENCE TO CORAL8 REFERENCE GUIDE
% Make a language reference

\documentclass[a4,11pt]{report}


\usepackage{alltt}
\usepackage{graphicx}
\usepackage{color}
\usepackage[small,bf]{caption}
\usepackage{listings}
\usepackage{cite}
\usepackage{url}
\usepackage{subfig}
\usepackage[hmargin=3cm, tmargin=3cm, bmargin=3.5cm]{geometry}

\lstdefinelanguage{EzQL}
{
  morekeywords=[1]{from, select, where, group, by, in, hour,
    entity, match, with, if, then, else, and, stream, of, def,
    createFrom, hasMany, belongsTo, let, in, min, into, member,
    when, enum, fun, print},
  morekeywords=[2]{avg, last, max, summ, values, minBy, howLong, any,
    changes, count, merge, sin, cos, atan, sqrt, acos},
  sensitive=true,
  morecomment=[l]{\#},
  morestring=[b]",
  tabsize=2,
}

\lstdefinelanguage{CCL}
{
  morekeywords=[1]{dummy, from, select, where, group, by, create, input,
    stream, schema, string, integer, as, window, insert, removed, rows,
  keep, seconds, into, float, last, per, outer, join, boolean,
  if, then, else, end, dummy, ON, left, right, interval, timestamp,
  full, local, and, hours, minutes, output, every, hour}
  morekeywords=[2]{dummy, max, coalesce, now, avg, dummy},
  sensitive=false,
  morecomment=[l]{--},
  morestring=[b]",
}

\lstdefinelanguage{StreamSQL}
{
  morekeywords=[1]{dummy, from, select, where, group, by, create, input,
    stream, schema, string, integer, as, window, insert, removed, rows,
  keep, seconds, into, float, double, memory, table, int, primary, key,
  using, returning, tuples, valid, always, offset, last, per, outer,
  join, boolean,
  if, then, else, end, dummy, ON, left, right, interval, timestamp,
  full, local, and, hours, minutes, output, every, hour}
  morekeywords=[2]{dummy, max, lastval, notnull, exp_moving_avg,
  coalesce, now, avg, dummy},
  sensitive=false
  morecomment=[l]{--},
  morestring=[b]",
}


\lstdefinelanguage{Oracle}
{
  morekeywords={dummy, on, if, then, and, dummy}
  sensitive=false,
  morecomment=[l]{--},
  morestring=[b]",
}


\lstdefinelanguage{MonitorScript}
{
  morekeywords=[1]{dummy, monitor, dictionary, string, int, action, on, all,
    route, if, then, dummy}
  morekeywords=[2]{},
  sensitive=false,
  morecomment=[l]{//},
  morestring=[b]",
}


\lstdefinelanguage{CQL}
{
  morekeywords=[1]{dummy, having, distinct, partition, range, now, istream, rstream, from, select, where, group, by, create, input,
    stream, schema, string, integer, as, window, insert, removed, rows,
  keep, seconds, into, float, last, per, outer, join, boolean,
  if, then, else, end, dummy, ON, left, right, interval, timestamp,
  full, local, and, hours, minutes, output, every, hour, dummy}
  morekeywords=[2]{dummy, max, count, coalesce, now, avg, dummy},
  sensitive=false,
  morecomment=[l]{--},
  morestring=[b]",
}


\definecolor{light-gray}{gray}{0.97}
\definecolor{dark-gray}{gray}{0.50}

\begin{document}
\title{EzQL: A new language for Event Stream Processing}
\author{Lu\'{\i}s Pureza}

\maketitle

\tableofcontents

\addtolength{\parskip}{\baselineskip}

\input{chap-intro.tex}
\input{chap-soa.tex}
\input{chap-soa-probs.tex}
\input{chap-ezql.tex}
\input{chap-impl.tex}
\input{chap-eval.tex}
\input{chap-future.tex}

\bibliography{thesis}
\bibliographystyle{plain}

\appendix
\input{appendix.tex}


\end{document}

