stocks = stream (timestamp:int, symbol:string, value:int, volume:int);;

entity Company =
  createFrom (stocks, :symbol);;


above1000 = Company.all.where (fun c -> c.value.count() > 50);;


when (above1000.changes(), fun ev -> print (above1000.select (fun c -> c.value.count())));;

#! stocks
# import "test/stocks/stocks.csv"