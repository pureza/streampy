temp_readings = stream (:room_id, :temperature);;

lastTemp = temp_readings.last(:temperature);;

// Recursive function with global dependencies
define fact(n:int) : int =
  if n == 0
    then lastTemp
    else n + fact (n - 1);;

e = fact(lastTemp);;

#! temp_readings
Timestamp, room_id, temperature
2,               1,      25
