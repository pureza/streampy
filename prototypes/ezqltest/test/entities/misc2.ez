temp_readings = stream (:room_id, :temperature);;

// The dictionary value is a record with a stream
//e = temp_readings.groupby(:room_id, fun g -> { a = g })
//                 .select (fun r -> r.a.max(:temperature));;

e = { a = temp_readings }.a.max(:temperature);;

when (temp_readings, fun _ -> print (e));;


#! temp_readings
Timestamp, room_id, temperature
2,               1,      25
4,               3,      45
5,               1,      25
6,               2,      50
7,               3,      30
9,               1,      23
