temp_readings = stream (:room_id, :temperature);;

lastTemp = temp_readings.last(:temperature);;


y = when (temp_readings, fun ev -> fun (t:int) -> t);;

a = when (temp_readings, fun ev -> y(lastTemp));;


#! temp_readings
Timestamp, room_id, temperature
2,               1,      25
